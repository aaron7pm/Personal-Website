---
layout: post
title: Accessing Environment Variables on an Azure Web App in PHP
date: 2015-04-30 21:17:23.000000000 -05:00
tags:
- azure
- azure web app
- environment variables
- php
- web app
status: publish
type: post
published: true
---
<p><strong>TLDR;</strong> If you want to access environment variables set on your Azure Web App in PHP, use <code>getenv()</code>. Example below:</p>
<p><code>$api_key = getenv('ENVVARNAME');</code></p>
<hr />
<p>While working on the contact form for my <a href="http://aarondancer.com" target="_blank">personal website</a>, I ran into issues with accessing environment variables I had set in my Azure Web App.</p>
<p>When building my contact form I decided to use SendGrid to power it (which I purchased from the Azure Marketplace). In order to use the SendGrid API I needed to include the API keys and login credentials. It's very bad practice to include these keys in your source code (especially when open source like my website), so I added some environment variables in the configuration section of my Azure Web App.</p>
<p><img class="" src="http://i.imgur.com/R3fCoig.png" alt="Azure Web App Environment Variable Configuration" width="100%" /></p>
<p>Since these variables are set for the whole app, I figured they were global. So I tried accessing them like so: <code>$_ENV["SGUSER"]</code>. However, after much testing I found that accessing them with <code>$_ENV</code> would yield nothing. I tested with <code>$_SERVER</code> as well with the same result. So, after a bit of searching on Bing I found the <a href="http://php.net/manual/en/function.getenv.php"><code>getenv()</code></a> function. This seemed to do the trick!</p>
